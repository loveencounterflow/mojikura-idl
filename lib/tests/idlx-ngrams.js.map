{
  "version": 3,
  "file": "idlx-ngrams.js",
  "sourceRoot": "../..",
  "sources": [
    "src/tests/idlx-ngrams.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n\n\n\n############################################################################################################\nCND                       = require 'cnd'\nrpr                       = CND.rpr\nbadge                     = 'MOJIKURA-IDL/TESTS/NGRAMS'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\necho                      = CND.echo.bind CND\n#...........................................................................................................\nTAP                       = require 'tap'\n{ IDLX, }                 = require '../..'\n\n\n###\nNgrams with Relations:\n谆:⿰讠(⿱亠口子)\n谆∋⿰讠亠\n谆∋⿱亠口\n谆∋⿱口子\n(谆∋⿱亠...子)\n(谆∋⿰讠⿱亠)\n###\n\n#-----------------------------------------------------------------------------------------------------------\nconflate = ( bigrams ) ->\n  # bigrams.sort()\n  R = []\n  for { list, } in bigrams\n    R.push ( ( x ? '█' ) for x in list ).join ''\n  return R.join ','\n\n#-----------------------------------------------------------------------------------------------------------\nconflate_II = ( bigrams ) ->\n  # bigrams.sort()\n  R = []\n  for bigram in bigrams\n    R.push ( token.s for token in bigram ).join ''\n  return R.join ','\n\n# #-----------------------------------------------------------------------------------------------------------\n# TAP.test \"(IDLX) ngrams\", ( T ) ->\n#   ### !!!!!!!!!!!!!!!!!!!! ###\n#   [ '䨻:⿱⿰⿱⻗田⿱⻗田⿰⿱⻗田⿱⻗田' ] ### TAINT not normalized? ###\n#   [ '𩙡:⿱⿰⿵𠘨䖝⿵𠘨䖝⿰⿵𠘨䖝⿵𠘨䖝' ] ### TAINT not normalized? ###\n#   ### !!!!!!!!!!!!!!!!!!!! ###\n#   probes_and_matchers = [\n#     [\"谆:⿰讠(⿱亠口子)\",\"⿰讠亠,⿱亠口,⿱口子\"]\n#     [\"鐓:(⿰金(⿱亠口子)夊)\",\"⿰金亠,⿱亠口,⿱口子,⿰子夊\"]\n#     [\"享:(⿱亠口子)\",\"⿱亠口,⿱口子\"]\n#     [\"浮:⿰氵⿱爫子\",\"⿰氵爫,⿱爫子\"]\n#     [\"仔:⿰亻子\",\"⿰亻子\"]\n#     [\"郭:⿰(⿱亠口子)阝\",\"⿱亠口,⿱口子,⿰子阝\"]\n#     [\"孫:⿰子系\",\"⿰子系\"]\n#     [\"猛:⿰犭⿱子皿\",\"⿰犭子,⿱子皿\"]\n#     [\"孔:⿰子乚\",\"⿰子乚\"]\n#     [\"孙:⿰子小\",\"⿰子小\"]\n#     [\"乳:⿰⿱爫子乚\",\"⿱爫子,⿰子乚\"]\n#     [\"敦:⿰(⿱亠口子)夊\",\"⿱亠口,⿱口子,⿰子夊\"]\n#     [\"孟:⿱子皿\",\"⿱子皿\"]\n#     [\"孝:⿱耂子\",\"⿱耂子\"]\n#     [\"勃:⿰⿱子力\",\"⿱子,⿰子力\"]\n#     [\"孕:⿱乃子\",\"⿱乃子\"]\n#     [\"遜:⿺辶⿰子系\",\"⿺辶子,⿰子系\"]\n#     [\"鷻:(⿰鳥(⿱亠口子)夊)\",\"⿰鳥亠,⿱亠口,⿱口子,⿰子夊\"]\n#     [\"𤅸:⿰氵⿱⿰臣⿱𠂉⿴占𠂭皿\",\"⿰氵臣,⿰臣𠂉,⿱𠂉占,⿴占𠂭,⿱𠂭皿\"]\n#     [\"𣟁:⿰木⿱⿰阝⿱⿸𠂇工⺝土\",\"⿰木阝,⿰阝𠂇,⿸𠂇工,⿱工⺝,⿱⺝土\"]\n#     [\"𧃚:⿱卄⿰月⿺辶⿱⿸𠂇工⺝\",\"⿱卄月,⿰月辶,⿺辶𠂇,⿸𠂇工,⿱工⺝\"]\n#     [\"䨻:⿱⿰⿱⻗田⿱⻗田⿰⿱⻗田⿱⻗田\",\"⿱⻗田,⿰田⻗,⿱⻗田,⿱田⻗,⿱⻗田,⿰田⻗,⿱⻗田\"]\n#     [\"𩙡:⿱⿰⿵𠘨䖝⿵𠘨䖝⿰⿵𠘨䖝⿵𠘨䖝\",\"⿵𠘨䖝,⿰䖝𠘨,⿵𠘨䖝,⿱䖝𠘨,⿵𠘨䖝,⿰䖝𠘨,⿵𠘨䖝\"]\n#     [\"𥷿:⿱𥫗⿰⿱巛田⿸广⿱廿灬\",\"⿱𥫗巛,⿱巛田,⿰田广,⿸广廿,⿱廿灬\"]\n#     [\"𤬣:⿱⿻⿴乂⿰⿱大亏瓜\",\"⿻,⿴乂,⿱乂大,⿱大亏,⿰亏瓜\"]\n#     ]\n#   for [ probe, matcher, ] in probes_and_matchers\n#     [ glyph, formula, ] = probe.split ':'\n#     diagram             = IDLX.parse formula\n#     result              = conflate IDLX.get_relational_bigrams formula\n#     debug JSON.stringify [ probe, result, ]\n#     if result == matcher then T.ok true\n#     else T.fail \"expected #{matcher}, got #{result}\"\n#   T.end()\n\n#-----------------------------------------------------------------------------------------------------------\nTAP.test \"(IDLX) ngrams\", ( T ) ->\n  ### !!!!!!!!!!!!!!!!!!!! ###\n  [ '䨻:⿱⿰⿱⻗田⿱⻗田⿰⿱⻗田⿱⻗田' ] ### TAINT not normalized? ###\n  [ '𩙡:⿱⿰⿵𠘨䖝⿵𠘨䖝⿰⿵𠘨䖝⿵𠘨䖝' ] ### TAINT not normalized? ###\n  ### !!!!!!!!!!!!!!!!!!!! ###\n  probes_and_matchers = [\n    [\"乳:⿰⿱爫子乚\",\"⿱爫子,⿰子乚\"]\n    [\"鐓:(⿰金(⿱亠口子)夊)\",\"⿰金亠,⿱亠口,⿱口子,⿰子夊\"]\n    [\"孔:⿰子乚\",\"⿰子乚\"]\n    [\"谆:⿰讠(⿱亠口子)\",\"⿰讠亠,⿱亠口,⿱口子\"]\n    [\"享:(⿱亠口子)\",\"⿱亠口,⿱口子\"]\n    [\"孫:⿰子系\",\"⿰子系\"]\n    [\"浮:⿰氵⿱爫子\",\"⿰氵爫,⿱爫子\"]\n    [\"仔:⿰亻子\",\"⿰亻子\"]\n    [\"郭:⿰(⿱亠口子)阝\",\"⿱亠口,⿱口子,⿰子阝\"]\n    [\"猛:⿰犭⿱子皿\",\"⿰犭子,⿱子皿\"]\n    [\"孙:⿰子小\",\"⿰子小\"]\n    [\"敦:⿰(⿱亠口子)夊\",\"⿱亠口,⿱口子,⿰子夊\"]\n    [\"孟:⿱子皿\",\"⿱子皿\"]\n    [\"孝:⿱耂子\",\"⿱耂子\"]\n    [\"勃:⿰⿱子力\",\"⿱子,⿰子力\"]\n    [\"孕:⿱乃子\",\"⿱乃子\"]\n    [\"遜:⿺辶⿰子系\",\"⿺辶子,⿰子系\"]\n    [\"鷻:(⿰鳥(⿱亠口子)夊)\",\"⿰鳥亠,⿱亠口,⿱口子,⿰子夊\"]\n    [\"𤅸:⿰氵⿱⿰臣⿱𠂉⿴占𠂭皿\",\"⿰氵臣,⿰臣𠂉,⿱𠂉占,⿴占𠂭,⿱𠂭皿\"]\n    [\"𣟁:⿰木⿱⿰阝⿱⿸𠂇工⺝土\",\"⿰木阝,⿰阝𠂇,⿸𠂇工,⿱工⺝,⿱⺝土\"]\n    [\"𧃚:⿱卄⿰月⿺辶⿱⿸𠂇工⺝\",\"⿱卄月,⿰月辶,⿺辶𠂇,⿸𠂇工,⿱工⺝\"]\n    [\"𥷿:⿱𥫗⿰⿱巛田⿸广⿱廿灬\",\"⿱𥫗巛,⿱巛田,⿰田广,⿸广廿,⿱廿灬\"]\n    [\"𤬣:⿱⿻⿴乂⿰⿱大亏瓜\",\"⿻,⿴乂,⿱乂大,⿱大亏,⿰亏瓜\"]\n    [\"䨻:⿱⿰⿱⻗田⿱⻗田⿰⿱⻗田⿱⻗田\",\"⿱⻗田,⿰田⻗,⿱⻗田,⿱田⻗,⿱⻗田,⿰田⻗,⿱⻗田\"]\n    [\"𩙡:⿱⿰⿵𠘨䖝⿵𠘨䖝⿰⿵𠘨䖝⿵𠘨䖝\",\"⿵𠘨䖝,⿰䖝𠘨,⿵𠘨䖝,⿱䖝𠘨,⿵𠘨䖝,⿰䖝𠘨,⿵𠘨䖝\"]\n    ]\n  for [ probe, matcher, ] in probes_and_matchers\n    [ glyph, formula, ] = probe.split ':'\n    # debug '93209', formula\n    urge  '93209', formula\n    debug '93209', '\\n' + rpr IDLX.list_tokens formula, { all_brackets: yes, }\n    # continue\n    # result = conflate IDLX.get_relational_bigrams formula\n    result = conflate_II IDLX.get_relational_bigrams_II formula\n    debug JSON.stringify [ probe, result, ]\n    if result == matcher then T.ok true\n    else T.fail \"expected #{matcher}, got #{result}\"\n  T.end()\n\n\n\n"
  ]
}